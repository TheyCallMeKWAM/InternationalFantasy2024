<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Scores</title>
    <link rel="stylesheet" href="CSS_Files/index.css">
</head>
<body>

    <div class="navbar">
        <div class="links">
            <a href="index.html">LEADERBOARD</a>
            <a href="submit.html">SUBMIT LINEUP</a>
        </div>
        <div class="links">
            <a href="https://liquipedia.net/dota2/The_International/2024" target=”_blank>LIQUIPEDIA</a>
        </div>
    </div>

    <video autoplay muted loop id="myVideo">
        <source src="ti10_background.mp4" type="video/mp4">
    </video>
    <div class="container">
        <h1>INTERNATIONAL FANTASY</h1>  

        <!-- Sort button -->

        <table id="scheduleTable">
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Day 1</th>
                    <th>Day 2</th>
                    <th>Day 3</th>
                    <th>Day 4</th>
                    <th>Day 5</th>
                    <th>Day 6</th>
                    <th>Day 7</th>
                    <th>Day 8</th>
                    <th>Day 9</th>
                    <th>Day 10</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody id="playerScoresBody">
                <!-- Rows will be dynamically populated here -->
            </tbody>
        </table>
        <div class="sort-buttons">
            <button onclick="sortTableByTotal()">Sort by Total Score</button>
        </div>

        <table id="highestScorerTable">
            <thead>
                <tr>
                    <th>Highest Group Stage Total</th>
                    <th>Score</th>
                    <th>Highest Playoff Total</th>
                    <th>Score</th>
                    <th>Highest Finals Total</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class=winner id="highestGroupStageType">-</td>
                    <td class=winner id="highestGroupStageScore">-</td>
                    <td class=winner id="highestPlayoffType">-</td>
                    <td class=winner id="highestPlayoffScore">-</td>
                    <td id="highestFinalsType">-</td>
                    <td id="highestFinalsScore">-</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <script>
        // Player scores data (add scores for each player)
        const playerScores = [
            { name: "William", scores: [1171.96, 1482.12, 944.74,806.55, 536.15, 1566.19, 1467.4] },
            { name: "Aiden", scores: [1215.29, 1418.65, 958.54, 837.55, 754.06, 1652.93, 1429.78 ] },
            { name: "Daniel", scores: [1147.45, 1251.58, 952.43, 622.77, 581.16, 1454.99, 1382.46] },
            { name: "Evan", scores: [1337.39, 981.26, 983.74,732.13, 778.00, 1298.67, 1382.46] },
            { name: "Sean", scores: [1172.75, 851.78, 990.58,732.44, 540.24, 1066.25, 866.44] },
            { name: "Jake", scores: [1230.21, 971.11, 905.85, 984.69, 514.32, 1454.35, 1467.7] },
            { name: "David", scores: [1016.58, 905.70, 952.43, 732.13, 419.12, 1301.110, 707.04] },
            { name: "Spencer", scores: [1121.17, 1224.96, 881.45, 886.55, 675.64, 485.94, 452.36] },
            { name: "Tommy", scores: [838.85, 1178.45, 976.06, 711.29, 569.15, 1207.11, 884.10] },
            { name: "ChatGPT", scores: [1336.35,839.53,941.29,1006.39, 565.75, 1313.71, 866.44] },

            // Add more players as needed
        ];
    
        // Get the table body element
        const tableBody = document.getElementById('playerScoresBody');
    
        // Function to populate the table with player data
        function populateTable() {
            tableBody.innerHTML = ''; // Clear previous rows
            let highestGroupStageScore = 0;
            let highestPlayoffScore = 0;
            let highestFinalsScore = 0;
            let highestGroupStagePlayer = '';
            let highestPlayoffPlayer = '';
            let highestFinalsPlayer = '';

            playerScores.forEach(player => {
                const row = document.createElement('tr');
                
                // Add the player's name
                const nameCell = document.createElement('td');
                nameCell.textContent = player.name;
                row.appendChild(nameCell);
                
                // Add the player's scores and total
                let totalScore = 0;
                for (let i = 0; i < 10; i++) {
                    const scoreCell = document.createElement('td');
                    const score = player.scores[i] || '-'; // Display '-' if score is not available
                    scoreCell.textContent = score !== '-' ? score : '-';
                    row.appendChild(scoreCell);
                    
                    // Add to total if score is a number
                    if (score !== '-') {
                        totalScore += score;
                    }
                }
                
                // Add the total score
                const totalCell = document.createElement('td');
                totalCell.classList.add('total');
                totalCell.textContent = totalScore > 0 ? totalScore.toFixed(2) : '-';
                row.appendChild(totalCell);
                
                // Append the row to the table
                tableBody.appendChild(row);

                // Calculate group stage, playoff, and finals totals
                const groupStageScore = (player.scores[0] || 0) + (player.scores[1] || 0);
                const playoffScore = (player.scores[2] || 0) + (player.scores[3] || 0) + (player.scores[4] || 0) + (player.scores[5] || 0) + (player.scores[6] || 0);
                const finalsScore = (player.scores[7] || 0) + (player.scores[8] || 0) + (player.scores[9] || 0);

                if (groupStageScore > highestGroupStageScore) {
                    highestGroupStageScore = groupStageScore;
                    highestGroupStagePlayer = player.name;
                }
                if (playoffScore > highestPlayoffScore) {
                    highestPlayoffScore = playoffScore;
                    highestPlayoffPlayer = player.name;
                }
                if (finalsScore > highestFinalsScore) {
                    highestFinalsScore = finalsScore;
                    highestFinalsPlayer = player.name;
                }
            });

            // Update the highest scores table
            document.getElementById('highestGroupStageType').textContent = highestGroupStagePlayer;
            document.getElementById('highestGroupStageScore').textContent = highestGroupStageScore.toFixed(2);
            document.getElementById('highestPlayoffType').textContent = highestPlayoffPlayer;
            document.getElementById('highestPlayoffScore').textContent = highestPlayoffScore.toFixed(2);
            document.getElementById('highestFinalsType').textContent = highestFinalsPlayer;
            document.getElementById('highestFinalsScore').textContent = highestFinalsScore.toFixed(2);
        }

        // Function to sort the table by total score
        function sortTableByTotal() {
            playerScores.sort((a, b) => {
                const totalA = a.scores.reduce((acc, curr) => acc + (curr || 0), 0);
                const totalB = b.scores.reduce((acc, curr) => acc + (curr || 0), 0);
                return totalB - totalA; // Sort in descending order
            });
            populateTable(); // Re-populate the table after sorting
        }

        // Initial population of the table
        populateTable();
    </script>
</body>
</html>
